{"options":[{"enabled":false,"definition":{"id":"a9db38f9-9fdc-478c-b0f9-464221e58316"},"inputs":{"workItemType":"652337","assignToRequestor":"true","additionalFields":"{}"}},{"enabled":false,"definition":{"id":"5d58cc01-7c75-450c-be18-a388ddb129ec"},"inputs":{"branchFilters":"[\"+refs/heads/*\"]","additionalFields":"{}"}}],"triggers":[{"branchFilters":["+refs/heads/master"],"pathFilters":[],"batchChanges":true,"maxConcurrentBuildsPerBranch":1,"triggerType":2}],"variables":{"BuildConfiguration":{"value":"release","allowOverride":true},"BuildPlatform":{"value":"any cpu","allowOverride":true},"system.debug":{"value":"false","allowOverride":true}},"retentionRules":[{"branches":["+refs/heads/*"],"artifacts":[],"artifactTypesToDelete":["FilePath","SymbolStore"],"daysToKeep":10,"minimumToKeep":1,"deleteBuildRecord":true,"deleteTestResults":true}],"properties":{},"tags":[],"metrics":[{"name":"CurrentBuildsInQueue","scope":"refs/heads/master","intValue":0},{"name":"CurrentBuildsInProgress","scope":"refs/heads/master","intValue":0}],"_links":{"self":{"href":"https://grogscave.visualstudio.com/c8267721-63d5-4360-843e-e55066e33440/_apis/build/Definitions/1?revision=30"},"web":{"href":"https://grogscave.visualstudio.com/_permalink/_build/index?collectionId=5ae20d31-716e-4710-849c-a751f76cfa32&projectId=c8267721-63d5-4360-843e-e55066e33440&definitionId=1"},"editor":{"href":"https://grogscave.visualstudio.com/_permalink/_build/definitionEditor?collectionId=5ae20d31-716e-4710-849c-a751f76cfa32&projectId=c8267721-63d5-4360-843e-e55066e33440&definitionId=1"}},"buildNumberFormat":"$(date:yyyyMMdd)$(rev:.r)","jobAuthorizationScope":1,"jobTimeoutInMinutes":60,"jobCancelTimeoutInMinutes":5,"process":{"phases":[{"steps":[{"environment":{},"enabled":true,"continueOnError":false,"alwaysRun":false,"displayName":"NuGet restore **\\*.sln","timeoutInMinutes":0,"refName":"NuGetInstaller_1","task":{"id":"333b11bd-d341-40d9-afcf-b32d5ce6f23b","versionSpec":"0.*","definitionType":"task"},"inputs":{"solution":"**\\*.sln","nugetConfigPath":"","restoreMode":"restore","noCache":"false","nuGetRestoreArgs":"","verbosity":"-","nuGetVersion":"3.3.0","nuGetPath":""}},{"environment":{},"enabled":true,"continueOnError":false,"alwaysRun":false,"displayName":"Build solution **\\*.sln","timeoutInMinutes":0,"refName":"VSBuild_2","task":{"id":"71a9a2d3-a98a-4caa-96ab-affca411ecda","versionSpec":"1.*","definitionType":"task"},"inputs":{"solution":"**\\*.sln","vsVersion":"14.0","msbuildArgs":"","platform":"$(BuildPlatform)","configuration":"$(BuildConfiguration)","clean":"false","maximumCpuCount":"false","restoreNugetPackages":"false","msbuildArchitecture":"x86","logProjectEvents":"true","createLogFile":"false"}},{"environment":{},"enabled":true,"continueOnError":false,"alwaysRun":false,"displayName":"Test Assemblies **\\$(BuildConfiguration)\\*test*.dll;-:**\\obj\\**","timeoutInMinutes":0,"refName":"VSTest_3","task":{"id":"ef087383-ee5e-42c7-9a53-ab56c98420f9","versionSpec":"1.*","definitionType":"task"},"inputs":{"testAssembly":"**\\$(BuildConfiguration)\\*test*.dll;-:**\\obj\\**","testFiltercriteria":"","runSettingsFile":"","overrideTestrunParameters":"","codeCoverageEnabled":"false","runInParallel":"false","vstestLocationMethod":"version","vsTestVersion":"14.0","vstestLocation":"","pathtoCustomTestAdapters":"","otherConsoleOptions":"","testRunTitle":"","platform":"$(BuildPlatform)","configuration":"$(BuildConfiguration)","publishRunAttachments":"true"}},{"environment":{},"enabled":true,"continueOnError":true,"alwaysRun":false,"displayName":"Publish symbols path: ","timeoutInMinutes":0,"refName":"PublishSymbols_4","task":{"id":"0675668a-7bba-4ccb-901d-5ad6554ca653","versionSpec":"1.*","definitionType":"task"},"inputs":{"SymbolsPath":"","SearchPattern":"**\\bin\\**\\*.pdb","SymbolsFolder":"","SkipIndexing":"false","TreatNotIndexedAsWarning":"false","SymbolsMaximumWaitTime":"","SymbolsProduct":"","SymbolsVersion":"","SymbolsArtifactName":"Symbols_$(BuildConfiguration)"}},{"environment":{},"enabled":true,"continueOnError":false,"alwaysRun":false,"displayName":"Publish Local","timeoutInMinutes":0,"refName":"VSBuild_6","task":{"id":"71a9a2d3-a98a-4caa-96ab-affca411ecda","versionSpec":"1.*","definitionType":"task"},"inputs":{"solution":"**\\*.sln","vsVersion":"14.0","msbuildArgs":"/p:DeployOnBuild=true;PublishProfile=CloudFoundry","platform":"","configuration":"","clean":"false","maximumCpuCount":"false","restoreNugetPackages":"false","msbuildArchitecture":"x86","logProjectEvents":"true","createLogFile":"false"}},{"environment":{},"enabled":true,"continueOnError":false,"alwaysRun":false,"displayName":"Copy Files to: $(build.artifactstagingdirectory)","timeoutInMinutes":0,"refName":"CopyFiles_5","task":{"id":"5bfb729a-a7c8-4a78-a7c3-8d717bb7c13c","versionSpec":"1.*","definitionType":"task"},"inputs":{"SourceFolder":"","Contents":"BookServicePublished\\**\ntools\\**","TargetFolder":"$(build.artifactstagingdirectory)","CleanTargetFolder":"false","OverWrite":"false","flattenFolders":"false"}},{"environment":{},"enabled":true,"continueOnError":false,"alwaysRun":false,"displayName":"Push to Cloud Foundry","timeoutInMinutes":0,"refName":"CloudFoundry_7","task":{"id":"a0fdb0cf-30d7-4ab8-8869-fa3d0ff0a6d7","versionSpec":"0.*","definitionType":"task"},"inputs":{"cfEndpoint":"7dc4b412-a6f6-481d-bba9-1fcd3fcbc1f9","skipSSLValidation":"true","oneTimePassword":"false","org":"cdelashmutt-org","space":"development","deploymentOptions":"manifest","cfManifest":"BookServicePublished/manifest.yml","name":"book","instances":"","memoryLimit":"","startCommand":"","domain":"","host":"","additionalDeployArgs":"bookservice-$(Build.BuildNumber) -n bookservice-dev","createServices":"false","createServiceArgs":"","bindServices":"false","appName":"","bindServiceArgs":"","workingDirectory":"BookServicePublished","cfToolLocation":"tools/cf.exe"}},{"environment":{},"enabled":true,"continueOnError":false,"alwaysRun":false,"displayName":"Delete Old App Versions","timeoutInMinutes":0,"condition":"succeeded()","refName":"ClonedPowerShell12","task":{"id":"e213ff0f-5d5c-4791-802d-52ea3e7be1f1","versionSpec":"1.*","definitionType":"task"},"inputs":{"scriptType":"inlineScript","scriptName":"","arguments":"","workingFolder":"","inlineScript":"& tools/cf.exe apps | foreach { ($_ -split \"\\s+\", 6)[0] } | where { $_ -ne \"bookservice-$env:Build_Buildnumber\" -and $_ -Like \"bookservice*\" }  | foreach {\n  & tools/cf.exe unmap-route $_ cf.grogscave.net --hostname bookservice-dev\n  & tools/cf.exe delete $_ -f\n}","failOnStandardError":"true"}},{"environment":{},"enabled":true,"continueOnError":false,"alwaysRun":false,"displayName":"Publish Artifact: BookService","timeoutInMinutes":0,"condition":"succeeded()","refName":"PublishBuildArtifacts1","task":{"id":"2ff763a7-ce83-4e1f-bc89-0ae63477cebe","versionSpec":"1.*","definitionType":"task"},"inputs":{"PathtoPublish":"$(build.artifactstagingdirectory)","ArtifactName":"BookService","ArtifactType":"Container","TargetPath":"\\\\my\\share\\$(Build.DefinitionName)\\$(Build.BuildNumber)","Parallel":"false","ParallelCount":"8"}}],"name":"Phase 1","refName":"Phase_1","condition":"succeeded()","target":{"executionOptions":{"type":0},"allowScriptsAuthAccessOption":false,"type":1},"jobAuthorizationScope":"projectCollection","jobCancelTimeoutInMinutes":1}],"type":1},"repository":{"properties":{"labelSources":"0","reportBuildStatus":"true","cleanOptions":"0","fetchDepth":"0","gitLfsSupport":"false","skipSyncSource":"false","checkoutNestedSubmodules":"false","labelSourcesFormat":"$(build.buildNumber)"},"id":"30e431f4-b31a-400f-a29a-f4ee1e25f9d7","type":"TfsGit","name":"BookService","url":"https://grogscave.visualstudio.com/_git/BookService","defaultBranch":"refs/heads/master","clean":"false","checkoutSubmodules":false},"processParameters":{},"quality":1,"authoredBy":{"displayName":"Chris DeLashmutt","url":"https://pfd59ddda-896b-433c-90e4-fcd030b1f252.codex.ms/vssps/_apis/Identities/770409a2-119d-4d3c-8473-b845efe2b3a6","_links":{"avatar":{"href":"https://grogscave.visualstudio.com/_api/_common/identityImage?id=770409a2-119d-4d3c-8473-b845efe2b3a6"}},"id":"770409a2-119d-4d3c-8473-b845efe2b3a6","uniqueName":"grog@grogscave.net","imageUrl":"https://grogscave.visualstudio.com/_api/_common/identityImage?id=770409a2-119d-4d3c-8473-b845efe2b3a6","descriptor":"msa.YTUxMzdiMDktYzIyOS03MDRiLThlZGYtMGY3MDhiNDIxZmZi"},"drafts":[],"queue":{"_links":{"self":{"href":"https://grogscave.visualstudio.com/_apis/build/Queues/4"}},"id":4,"name":"Hosted","url":"https://grogscave.visualstudio.com/_apis/build/Queues/4","pool":{"id":2,"name":"Hosted","isHosted":true}},"id":1,"name":"BookService","url":"https://grogscave.visualstudio.com/c8267721-63d5-4360-843e-e55066e33440/_apis/build/Definitions/1?revision=30","uri":"vstfs:///Build/Definition/1","path":"\\","type":2,"queueStatus":0,"revision":30,"createdDate":"2018-03-15T18:31:26.373Z","project":{"id":"c8267721-63d5-4360-843e-e55066e33440","name":"BookService","url":"https://grogscave.visualstudio.com/_apis/projects/c8267721-63d5-4360-843e-e55066e33440","state":"wellFormed","revision":135424514,"visibility":0}}